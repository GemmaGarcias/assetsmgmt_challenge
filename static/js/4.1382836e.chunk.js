(this.webpackJsonpassetsmgmt_challenge=this.webpackJsonpassetsmgmt_challenge||[]).push([[4],{36:function(e,t,n){"use strict";function a(e){return Object.keys(e)}function r(e){return e.substring(e.lastIndexOf("/")+1)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}))},37:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){var t=e.text;return r.a.createElement("p",null,t)}},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";var a=n(16),r=n(15),c=n(0),u=n.n(c),s=n(8),i=n(38),l=n(49);var o=function(e){var t=e.headers,n=(e.data,e.onSubmit),a=Object(c.useState)({}),s=Object(r.a)(a,2),o=s[0],b=s[1];function f(e){e.persist(),b((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(i.a)({},e.target.name,e.target.value))}))}return u.a.createElement("tr",null,t.map((function(e,t){return u.a.createElement("td",{key:t,className:"td-padding"},u.a.createElement("input",{name:e,onChange:f,value:o[e]||""}))})),u.a.createElement("td",null,u.a.createElement("button",{className:"table-button button-hover",onClick:function(){n(o),b({})}},"Submit")))},b=(n(39),n(40),n(50));var f=function(e){var t=e.row,n=e.property,a=e.disable;return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.b,{id:"context-menu-table",collect:function(e){return e},rowId:t.id,disable:a},u.a.createElement("div",{className:"td-padding"},t[n])),u.a.createElement(b.a,{id:"context-menu-table"},u.a.createElement(b.c,{onClick:function(e,t){return console.log(t.rowId)}},"Test")))};t.a=function(e){var t=e.headers,n=e.data,i=e.addColumn,l=e.disableContextMenu,b=Object(c.useState)(Object(a.a)(n)),m=Object(r.a)(b,2),d=m[0],h=m[1];return u.a.createElement("div",{className:"parentTable"},u.a.createElement("table",{id:"customTable"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement(u.a.Fragment,null,t.map((function(e,t){return u.a.createElement("th",{key:t},e)})),i&&u.a.createElement("th",null,i.header)))),u.a.createElement("tbody",null,u.a.createElement(u.a.Fragment,null,u.a.createElement(o,{headers:t,data:d,onSubmit:function(e){h([e].concat(Object(a.a)(d)))}}),d.map((function(e){return u.a.createElement("tr",{key:e.id},u.a.createElement(u.a.Fragment,null,t.map((function(t,n){return u.a.createElement("td",{key:n},u.a.createElement(f,{row:e,property:t,disable:l}))})),i&&u.a.createElement("td",null,u.a.createElement("button",{className:"table-button td-padding"},u.a.createElement(s.b,{to:"".concat("/assetsmgmt_challenge","/entities/").concat(e.id)},"Related entities")))))}))))))}},42:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return h}));var a=n(43),r=n.n(a),c=n(44),u=n(45),s=n(46),i=n(51),l=n(52),o=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(u.a)(this,n),t.call(this,"There was a network error. Please try again in a few seconds.")}return n}(Object(l.a)(Error)),b=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(u.a)(this,n),t.call(this,"There was a server error.")}return n}(Object(l.a)(Error)),f=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(u.a)(this,n),t.call(this,"The requested resource was a not found.")}return n}(Object(l.a)(Error));function m(){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/assets");case 3:if((t=e.sent).ok){e.next=6;break}return e.abrupt("return",E(t.status));case 6:return e.next=8,t.json();case 8:return n=e.sent,a=n.assets,e.abrupt("return",a);case 13:if(e.prev=13,e.t0=e.catch(0),!(e.t0 instanceof b||e.t0 instanceof f)){e.next=17;break}throw e.t0;case 17:throw new o;case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function h(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(r.a.mark((function e(t){var n,a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/entities");case 3:if((n=e.sent).ok){e.next=6;break}return e.abrupt("return",E(n.status));case 6:return e.next=8,n.json();case 8:if(a=e.sent,c=a.entities,"entities"!==t){e.next=14;break}return e.abrupt("return",c);case 14:return e.abrupt("return",c.filter((function(e){return e.id_asset===parseInt(t)})));case 15:e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(0),!(e.t0 instanceof b||e.t0 instanceof f)){e.next=21;break}throw e.t0;case 21:throw new o;case 22:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function E(e){if(500===e)throw new b;if(404===e)throw new f}},54:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(0),c=n.n(r),u=n(42),s=n(36),i=n(37),l=n(41);t.default=function(){var e=Object(r.useState)(),t=Object(a.a)(e,2),n=t[0],o=t[1],b=Object(r.useState)({hasErrors:!1}),f=Object(a.a)(b,2),m=f[0],d=f[1];function h(e){d({hasErrors:!0,message:e.message})}return Object(r.useEffect)((function(){Object(u.a)().then(o).catch(h)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Assets"),m.hasErrors?c.a.createElement("div",null,m.message):n?c.a.createElement(l.a,{headers:Object(s.b)(n.length&&n[0]),data:n,addColumn:!0,disableContextMenu:!0}):c.a.createElement(i.a,{text:"Wait I'm loading assets for you"}))}}}]);
//# sourceMappingURL=4.1382836e.chunk.js.map